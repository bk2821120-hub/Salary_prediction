# -*- coding: utf-8 -*-
"""salary_dev.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1dnLta3AGdH8kHMdnMvG7wH8Qv2Q3p8bC
"""

import streamlit as st
import pandas as pd
import joblib
import os

# Load model and encoders safely
model = joblib.load(os.path.join(BASE_DIR, "salary_prediction_model.pkl"))
encoders = joblib.load(os.path.join(BASE_DIR, "label_encoder_sp.pkl"))

st.title("Salary Prediction App")

age = st.number_input("Age",18,65,25)

gender = st.selectbox("Gender", encoders["Gender"].classes_)
education = st.selectbox("Education Level", encoders["Education Level"].classes_)
job = st.selectbox("Job Title", encoders["Job Title"].classes_)

experience = st.number_input("Years of Experience",0.0,40.0,2.0)

df = pd.DataFrame({
    "Age": [age],
    "Gender": [gender],
    "Education Level": [education],
    "Job Title": [job],
    "Years of Experience": [experience]
})

if st.button("Predict Salary"):

    categorical_cols = ["Gender", "Education Level", "Job Title"]

    for col in categorical_cols:
        df[col] = encoders[col].transform(df[col])

    prediction = model.predict(df)

    st.success(f"Predicted Salary: {prediction[0]:,.2f}")
